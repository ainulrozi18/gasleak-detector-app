{"version":3,"file":"sw.bundle.js","mappings":"MAAA,IAAMA,EAAa,mBACbC,EAAc,CAClB,IACA,cACA,oBACA,yBACA,oBACA,+BACA,gCACA,gCACA,0CACA,iBACA,0BACA,2BAIFC,KAAKC,iBAAiB,WAAW,SAAAC,GAC/BA,EAAMC,UACJC,OAAOC,KAAKP,GACTQ,MAAK,SAAAC,GAEJ,OADAC,QAAQC,IAAI,sCACLF,EAAMG,OAAOX,EACtB,KAEJC,KAAKW,aACP,IAGAX,KAAKC,iBAAiB,YAAY,SAAAC,GAChCA,EAAMC,UACJC,OAAOQ,OAAON,MAAK,SAAAO,GACjB,OAAOC,QAAQC,IACbF,EAAQG,KAAI,SAAAC,GACV,GAAIA,IAAQnB,EAEV,OADAU,QAAQC,IAAI,sCAAuCQ,GAC5Cb,OAAM,OAAQa,EAEzB,IAEJ,KAEFjB,KAAKkB,QAAQC,OACf,IAGAnB,KAAKC,iBAAiB,SAAS,SAAAC,GACA,QAAzBA,EAAMkB,QAAQC,QAClBnB,EAAMoB,YACJlB,OAAOmB,MAAMrB,EAAMkB,SAASd,MAAK,SAAAkB,GAC/B,OAAOA,GAAYC,MAAMvB,EAAMkB,SAAQ,OAC9B,kBAAMhB,OAAOmB,MAAM,cAAc,GAC5C,IAEJ,IAGAvB,KAAKC,iBAAiB,QAAQ,SAAAC,GAAS,IAAAwB,EAC/BC,GAAiB,QAAVD,EAAAxB,EAAMyB,YAAI,IAAAD,OAAA,EAAVA,EAAYE,SAAU,CAAC,EAC9BC,EAAQF,EAAKE,OAAS,aACtBC,EAAU,CACdC,KAAMJ,EAAKK,SAAW,yBACtBC,KAAM,0BACNC,MAAO,kBACPC,QAAS,CAAC,IAAK,IAAK,KACpBR,KAAM,CAAES,IAAKT,EAAKS,KAAO,MAG3BlC,EAAMC,UAAUH,KAAKqC,aAAaC,iBAAiBT,EAAOC,GAC5D,IAGA9B,KAAKC,iBAAiB,qBAAqB,SAAAC,GACzCA,EAAMqC,aAAaC,QACnBtC,EAAMC,UACJe,QAAQuB,WAAWvC,EAAMqC,aAAaZ,KAAKS,KAE/C,G","sources":["webpack://gas-leak-detector-app/./src/scripts/sw.js"],"sourcesContent":["const CACHE_NAME = 'firegas-cache-v1';\r\nconst urlsToCache = [\r\n  '/',\r\n  '/index.html',\r\n  '/styles/style.css',\r\n  '/styles/responsive.css',\r\n  '/scripts/index.js',\r\n  '/scripts/views/pages/home.js',\r\n  '/scripts/views/pages/about.js',\r\n  '/scripts/views/pages/chart.js',\r\n  '/scripts/components/connected-status.js',\r\n  '/manifest.json',\r\n  '/icons/icon-192x192.png',\r\n  '/icons/icon-512x512.png'\r\n];\r\n\r\n// Install: cache semua file penting\r\nself.addEventListener('install', event => {\r\n  event.waitUntil(\r\n    caches.open(CACHE_NAME)\r\n      .then(cache => {\r\n        console.log('[Service Worker] Caching app shell');\r\n        return cache.addAll(urlsToCache);\r\n      })\r\n  );\r\n  self.skipWaiting();\r\n});\r\n\r\n// Activate: bersihkan cache lama\r\nself.addEventListener('activate', event => {\r\n  event.waitUntil(\r\n    caches.keys().then(keyList => {\r\n      return Promise.all(\r\n        keyList.map(key => {\r\n          if (key !== CACHE_NAME) {\r\n            console.log('[Service Worker] Removing old cache', key);\r\n            return caches.delete(key);\r\n          }\r\n        })\r\n      );\r\n    })\r\n  );\r\n  self.clients.claim();\r\n});\r\n\r\n// Fetch: ambil dari cache dulu, baru jaringan\r\nself.addEventListener('fetch', event => {\r\n  if (event.request.method !== 'GET') return;\r\n  event.respondWith(\r\n    caches.match(event.request).then(response => {\r\n      return response || fetch(event.request)\r\n        .catch(() => caches.match('/index.html')); // fallback saat offline\r\n    })\r\n  );\r\n});\r\n\r\n// Push Notification\r\nself.addEventListener('push', event => {\r\n  const data = event.data?.json() || {};\r\n  const title = data.title || 'Notifikasi';\r\n  const options = {\r\n    body: data.message || 'Ada pemberitahuan baru',\r\n    icon: '/icons/icon-192x192.png',\r\n    badge: '/icons/logo.png',\r\n    vibrate: [200, 100, 200],\r\n    data: { url: data.url || '/' }\r\n  };\r\n\r\n  event.waitUntil(self.registration.showNotification(title, options));\r\n});\r\n\r\n// Klik notifikasi\r\nself.addEventListener('notificationclick', event => {\r\n  event.notification.close();\r\n  event.waitUntil(\r\n    clients.openWindow(event.notification.data.url)\r\n  );\r\n});\r\n"],"names":["CACHE_NAME","urlsToCache","self","addEventListener","event","waitUntil","caches","open","then","cache","console","log","addAll","skipWaiting","keys","keyList","Promise","all","map","key","clients","claim","request","method","respondWith","match","response","fetch","_event$data","data","json","title","options","body","message","icon","badge","vibrate","url","registration","showNotification","notification","close","openWindow"],"sourceRoot":""}